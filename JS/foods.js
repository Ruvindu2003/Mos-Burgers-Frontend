const foods = [
    {
      id: 0,
      name: "Burgers",
      description:
        "This turkey burger is absolutely perfect! Tender, juicy, and seasoned to perfection.",
      imgSrc: "./images/home-pg/burgers1.jpg",
      items: [
        { 
         id: 0,
        name: "Turkey Burgers",
        description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
        price: 500.00,
        imgSrc: "./images/burgers/turkey-burger.webp",
        },
        { 
            id: 1,
           name: "Shawarma Burger",
           description: "A Middle Eastern delicacy Chicken Shawarma in the form of a Burger. Chicken marinated, loaded with french fries and stacked as a Burger.",
           price: 500.00,
           imgSrc: "./images/burgers/shawarma-buger.webp",
        }, 
        { 
            id: 2,
           name: "Paneer Burger",
           description: "These Paneer Tikki Burgers make for a great vegetarian burger. They’re flavourful and aromatic, and served with a fragrant green chutney mayo.",
           price: 500.00,
           imgSrc: "./images/burgers/paneer-burger.jpg",
        },
        { 
            id: 3,
           name: "Bacon Burgers",
           description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
           price: 500.00,
           imgSrc: "./images/burgers/bacon-burger.jpg",
        },
        { 
            id: 4,
           name: "Olive Burgers",
           description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
           price: 500.00,
           imgSrc: "./images/burgers/olive-burger.jpg",
        },
        { 
            id: 5,
           name: "Cheese Burger",
           description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
           price: 500.00,
           imgSrc: "./images/burgers/cheese-burger.jpg",
        },
        { 
            id: 6,
           name: "Hamburger",
           description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
           price: 500.00,
           imgSrc: "./images/burgers/hamburger.jpg",
        },
        { 
            id: 7,
           name: "Chicken Burgers",
           description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
           price: 500.00,
           imgSrc: "./images/burgers/chicken-burger.jpg",
        },
        { 
            id: 8,
           name: "Crispy Chicken Burger",
           description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
           price: 500.00,
           imgSrc: "./images/burgers/Crispy-chicken-burger.webp",
        }   

      ]
    },
    {
      id: 1,
      name: "Steak Fries",
      description:"A delicious chicken patty covered with crispy crusts between fresh buns and lettuce.",
      imgSrc: "./images/home-pg/Steak_Fries.jpg",
      items:[
          { 
            id: 0,
           name: "Steak Fries(Large)",
           description: "These incredibly crispy, thick cut, oven baked steak fries are seasoned to perfection with steak seasoning for maximum flavor in every bite!",
           price: 500.00,
           imgSrc: "./images/steaks/Steak Fries (Large).jpg",
           },
           { 
               id: 1,
              name: "Steak Fries(Medium)",
              description: "These incredibly crispy, thick cut, oven baked steak fries are seasoned to perfection with steak seasoning for maximum flavor in every bite!",
              price: 500.00,
              imgSrc: "./images/steaks/Steak Fries (Medium).jpg",
           }, 
           { 
               id: 2,
              name: "French Fries (Large)",
              description: "These incredibly crispy, thick cut, oven baked steak fries are seasoned to perfection with steak seasoning for maximum flavor in every bite!",
              price: 500.00,
              imgSrc: "./images/steaks/French Fries (Large).jpg",
           },
           { 
               id: 3,
              name: "French Fries (Small)",
              description: "These incredibly crispy, thick cut, oven baked steak fries are seasoned to perfection with steak seasoning for maximum flavor in every bite!",
              price: 500.00,
              imgSrc: "./images/steaks/French Fries (Small).webp",
           },
           { 
               id: 4,
              name: "Sweet Potato Fries (Large)",
              description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
              price: 500.00,
              imgSrc: "./images/steaks/Sweet Potato Fries (Large).jpg",
           },
           { 
               id: 5,
              name: "French Fries (Medium)",
              description: "These incredibly crispy, thick cut, oven baked steak fries are seasoned to perfection with steak seasoning for maximum flavor in every bite!",
              price: 500.00,
              imgSrc: "./images/steaks/French Fries (Medium).png",
           },
      ]
    },
    {
      id: 2,
      name: "Pasta",
      description:
        "A cheeseburger with a slice of melted cheese on top of a juicy grilled beef patty.",
      imgSrc: "./images/home-pg/pasta.jpg",
      items:[
        { 
            id: 0,
           name: "Chicken n Cheese Pasta ",
           description: "This Cheesy Chicken Pasta is the perfect dinner any night of the week. It's packed with creamy, rich, cheesy goodness, with some tender chicken and spinach to ...",
           price: 500.00,
           imgSrc: "./images/pasta/Chicken n Cheese Pasta.webp",
           },
           { 
               id: 1,
              name: "Chicken Penne Pasta",
              description: "This Cheesy Chicken Pasta is the perfect dinner any night of the week. It's packed with creamy, rich, cheesy goodness, with some tender chicken and spinach to ...",
              price: 500.00,
              imgSrc: "./images/pasta/chicken-penne-pasta.jpg",
           }, 
           { 
               id: 2,
              name: "Ground Turkey Pasta Bake",
              description: "This Cheesy Chicken Pasta is the perfect dinner any night of the week. It's packed with creamy, rich, cheesy goodness, with some tender chicken and spinach to ...",
              price: 500.00,
              imgSrc: "./images/pasta/ground-turkey-pasta-bake.webp",
           },
           { 
               id: 3,
              name: "Creamy Shrimp Pasta",
              description: "This Cheesy Chicken Pasta is the perfect dinner any night of the week. It's packed with creamy, rich, cheesy goodness, with some tender chicken and spinach to ...",
              price: 500.00,
              imgSrc: "./images/pasta/creamy-garlic-shrimp-pasta.webp",
           },
           { 
               id: 4,
              name: "Lemon Butter Pasta ",
              description: "This Cheesy Chicken Pasta is the perfect dinner any night of the week. It's packed with creamy, rich, cheesy goodness, with some tender chicken and spinach to ...",
              price: 500.00,
              imgSrc: "./images/pasta/Lemon_Butter_Garlic_Pasta_Sauce_1.jpg",
           },
           { 
               id: 5,
              name: "Tagliatelle Pasta",
              description: "This Cheesy Chicken Pasta is the perfect dinner any night of the week. It's packed with creamy, rich, cheesy goodness, with some tender chicken and spinach to ...",
              price: 500.00,
              imgSrc: "./images/pasta/Taglietelle-with-Pancetta-7-Edit-2.jpg",
           },

      ]
    },
    {
      id: 3,
      name: "Fried Chicken",
      description:
        "This turkey burger is absolutely perfect! Tender, juicy, and seasoned to perfection.",
      imgSrc: "./images/home-pg/fried-chicken.jpg",
      items:[
        { 
            id: 0,
           name: "Fried Chicken (Small) ",
           description: "This Extra Crispy Spicy Fried Chicken is moist and tender from a buttermilk soak and extra crispy ...",
           price: 500.00,
           imgSrc: "https://honestcooking.com/wp-content/uploads/2013/01/Mini-Fried-Chicken.jpg",
           },
           { 
               id: 1,
              name: "Fried Chicken (Regular)",
              description: "This Extra Crispy Spicy Fried Chicken is moist and tender from a buttermilk soak and extra crispy ...",
              price: 500.00,
              imgSrc: "https://www.megseverydayindulgence.com/wp-content/uploads/2012/07/Extra-Crispy-Spicy-Fried-Chicken.jpg",
           }, 
           { 
               id: 2,
              name: "Fried Chicken (Large)",
              description: "This Extra Crispy Spicy Fried Chicken is moist and tender from a buttermilk soak and extra crispy ...",
              price: 500.00,
              imgSrc: "https://assets.tastemadecdn.net/images/52e9d1/4ee85c47a999b4172667/a836ce.png",
           },
           { 
               id: 3,
              name: "Hot Wings (Large)",
              description: "This Extra Crispy Spicy Fried Chicken is moist and tender from a buttermilk soak and extra crispy ...",
              price: 500.00,
              imgSrc: "https://static01.nyt.com/images/2021/02/05/dining/09COOKING_CHICKENWINGS2/09COOKING_CHICKENWINGS2-articleLarge.jpg",
           },
           { 
               id: 4,
              name: "Devilled Chicken (Large) ",
              description: "This Cheesy Chicken Pasta is the perfect dinner any night of the week. It's packed with creamy, rich, cheesy goodness, with some tender chicken and spinach to ...",
              price: 500.00,
              imgSrc: "https://i.ytimg.com/vi/Ei8tPVMJRWs/maxresdefault.jpg",
           },
           { 
               id: 5,
              name: "BBQ Chicken (Regular)",
              description: "This Cheesy Chicken Pasta is the perfect dinner any night of the week. It's packed with creamy, rich, cheesy goodness, with some tender chicken and spinach to ...",
              price: 500.00,
              imgSrc: "https://static01.nyt.com/images/2020/09/06/dining/15JPGRILL1/15JPGRILL1-master768-v2.jpg?quality=75&auto=webp",
           },

      ]
    },
    {
      id: 4,
      name: "Beverages",
      description:
        "A delicious chicken patty covered with crispy crusts between fresh buns and lettuce.",
      imgSrc: "./images/home-pg/beverages.jpg",
      items:[
        { 
            id: 0,
           name: "Pepsi (330ml)",
           description: "Enjoy the classic Pepsi drink robust in flavor. · Deeply refreshing in the great outdoors and indoors.",
           price: 500.00,
           imgSrc: "https://cdn.webshopapp.com/shops/224948/files/349257768/600x600x2/pepsi-pepsi-330ml.jpg",
           },
           { 
               id: 1,
              name: "Coca-Cola (330ml)",
              description: "Enjoy the classic Pepsi drink robust in flavor. · Deeply refreshing in the great outdoors and indoors.",
              price: 500.00,
              imgSrc: "https://images.unsplash.com/photo-1592232583482-ec6367cfb786?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8Y29jYSUyMGNvbGF8ZW58MHx8MHx8fDA%3D",
           }, 
           { 
               id: 2,
              name: "Sprite (330ml)",
              description: "Enjoy the classic Pepsi drink robust in flavor. · Deeply refreshing in the great outdoors and indoors.",
              price: 500.00,
              imgSrc: "https://market.borong.com/product-images/8bd083f9dd3f446fd6bed23267e093e346bf32b8.jpg",
           },
           { 
               id: 3,
              name: "Mirinda (330ml)",
              description: "Enjoy the classic Pepsi drink robust in flavor. · Deeply refreshing in the great outdoors and indoors.",
              price: 500.00,
              imgSrc: "https://www.mfsco.co.uk/wp-content/uploads/2021/05/mirinda-orange_-1.jpg",
           },

    
      ]
    },
    {
      id: 5,
      name: "Submarines",
      description:
        "A cheeseburger with a slice of melted cheese on top of a juicy grilled beef patty.",
      imgSrc: "./images/home-pg/submarines.PNG",
      items:[
       
        { 
            id: 0,
           name: "Crispy Chicken Submarine (Large)",
           description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
           price: 500.00,
           imgSrc: "./images/submarien/Cryspi chicken Submarine-L.jpeg",
           },
           { 
               id: 1,
              name: "Crispy Chicken Submarine (Regular)",
              description: "A Middle Eastern delicacy Chicken Shawarma in the form of a Burger. Chicken marinated, loaded with french fries and stacked as a Burger.",
              price: 500.00,
              imgSrc: "./images/submarien/crispy-chicken-submarine-reg.jpg",
           }, 
           { 
               id: 2,
              name: "Chicken Submarine (Large)",
              description: "These Paneer Tikki Burgers make for a great vegetarian burger. They’re flavourful and aromatic, and served with a fragrant green chutney mayo.",
              price: 500.00,
              imgSrc: "./images/submarien/chicken Submarine -reg.jpeg",
           },
           { 
               id: 3,
              name: "Grinder Submarine",
              description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
              price: 500.00,
              imgSrc: "./images/submarien/Grinder Submarine.jpg",
           },
           { 
               id: 4,
              name: "Cheese Submarine",
              description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
              price: 500.00,
              imgSrc: "./images/submarien/Cheese Submarinenn.jpg",
           },
           { 
               id: 5,
              name: "Double Cheese n Chicken Submarine",
              description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
              price: 500.00,
              imgSrc: "./images/submarien/Double Cheese n Chicken Submarine.jpg",
           },
           { 
               id: 6,
              name: "special horgie submarine",
              description: "This turkey burger recipe is absolute perfection! The turkey patties are healthy,super easy to make, perfectly juicy and moist, and packed with flavor from simple ingredients.",
              price: 500.00,
              imgSrc: "./images/submarien/Special Horgie Submarine.jpg",
           },
           


      ]
    },
  ];

  document.addEventListener("DOMContentLoaded", function () {
    const foodContainer = document.getElementById("food-container");
  
    const renderFoods = () => {
      let cardsHTML = ''; // Variable to accumulate all card HTML strings
  
      foods.forEach((food) => {
        // Create card HTML using template literals
        cardsHTML += `
          <div class="card">
            <img src="${food.imgSrc}" alt="${food.name}">
            <div class="card-content">
              <h3>${food.name}</h3>
              <p>${food.description}</p>
              <a href="foods.html?category=${food.name}">
              <button class="enabled-btn">SHOP NOW</button>
              </a>

            </div>
          </div>
        `;
      });
  
      // Set the accumulated card HTML into the container using innerHTML
      foodContainer.innerHTML = cardsHTML;
    };
  
    renderFoods();
  });

  function displaySuccessMessage() {
    alert("Added successfully!");
}

async function uploadImage() {
  const fileInput = document.getElementById("image");
  const statusText = document.getElementById("status");
  const uploadedImage = document.getElementById("uploadedImage");

  if (fileInput.files.length === 0) {
      alert("Please select an image first.");
      return null;
  }

  const file = fileInput.files[0];
  const formData = new FormData();
  formData.append("image", file);

  statusText.textContent = "Uploading...";

  try {
      const API_KEY = "a61e3e6b14153e3f20487e948c9ca224"; 
      const response = await fetch(`https://api.imgbb.com/1/upload?key=${API_KEY}`, {
          method: "POST",
          body: formData
      });

      const data = await response.json();

      if (data.success) {
          statusText.textContent = "Upload successful!";
          uploadedImage.src = data.data.url;
          uploadedImage.style.display = "block";
          return data.data.url;
      } else {
          statusText.textContent = "Upload failed: " + data.error.message;
          return null;
      }
  } catch (error) {
      statusText.textContent = "Error: " + error.message;
      return null;
  }
}

async function submitForm(event) {
  event.preventDefault();

  const name = document.getElementById("foodName").value;
  const description = document.getElementById("description").value;
  const price = document.getElementById("price").value;
  const category = document.getElementById("category").value;

  const imageUrl = await uploadImage();
  if (!imageUrl) {
      alert("Image upload failed. Please try again.");
      return;
  }

  const product = {
      name,
      description,
      price: parseFloat(price),
      category,
      image_path: imageUrl
  };

  try {
      const response = await fetch("http://localhost:8080/Product/product-add", {
          method: "POST",
          headers: {
              "Content-Type": "application/json"
          },
          body: JSON.stringify(product)
      });

      if (response.ok) {
          alert("Product added successfully!");
      } else {
          alert("Failed to add product. Please try again.");
      }
  } catch (error) {
      console.error("Error adding product:", error);
      alert("An error occurred. Please try again.");
  }
}







